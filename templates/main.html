<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body, html {
            height: 100%;
        }
        .container {
            display: flex;
            height: 100%;
        }
        .sidebar{
            border: 2px solid red;   
            width: 300px;
            position: sticky;
            top: 0; /* Stick the sidebar to the top of the viewport */
            height: 100vh; /* Adjusted to full viewport height */
            overflow-y: auto; /* Enable vertical scrolling if content exceeds viewport */
        }
        .content {
            flex: 1;
            overflow-y: auto; /* Enable vertical scrolling if content exceeds viewport */
        }
        /* Example styling for content */
        .content-inner {
            padding: 20px;
        }
        .boxes{
            display: flex;
            justify-content: space-around;
        }
        .box{
            border: 2px solid blue;
            height: 100px;
            width: 100px;
        }
        .select-boxes{
            display: flex;
            justify-content: space-around;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <!-- Sidebar content goes here -->
            Sidebar
        </div>
        <div class="content">
            <!-- Right content with scrollbar -->
            <div class="content-inner">
               <div class="boxes">
                <div class="box"></div>
                <div class="box"></div>
                <div class="box"></div>
                <div class="box"></div>
               </div><br><br><br><br>
                <form action="/savedata" method="POST">
                    {% csrf_token %}
                    <div class="select-boxes">
                <select name="cord" id="cord" required>
                    <option value="CREDIT">CREDIT</option>
                    <option value="Debit">Debit</option>
                    <!-- Add more options as needed -->
                  </select>
                  <select name="account" id="account" required>
                    
                    <option value="SHOBA TALEEM E MURWAJA">SHOBA TALEEM E MURWAJA
                    </option>
                    <option value="GENERAL ACCOUNT">GENERAL ACCOUNT
                    </option>
                    <option value="SAHM E IMAM & SEHM E SADAT">SAHM E IMAM & SEHM E SADAT 
                    </option>
                    <option value="SHOBA-IMDAD-UL-MUSTAHIQEEN">SHOBA-IMDAD-UL-MUSTAHIQEEN  
                    </option>
                    <!-- Add more options as needed -->
                  </select>
                  <select name="onoff" required>
                    <option value="Online">Online</option>
                    <option value="Offline">Offline</option>
                    <!-- Add more options as needed -->
                  </select>
                  <select name="ldhead" id="ledgerhead" required>
                    <!-- Add more options as needed -->
                  </select>

                  <input type="number" name="amount" placeholder="amount" min="1">
                  <input type="submit">
                </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function(){
            var data = {{ data | safe }};
            function updateOptions(){
                var cord = document.getElementById("cord").value;
                var account = document.getElementById("account").value;


                // general account


                if (cord == "CREDIT" && account == "GENERAL ACCOUNT") {
                    var filteredData = data.filter(function(obj) {
                        return obj.cord === 'credit' && obj.accounttype === 'General account';
                    });
                    var newel = document.getElementById("ledgerhead");
                    console.log(filteredData);
                    newel.innerHTML = ''; // Clear previous options
                    filteredData.forEach(function(obj) {
                        var temp = "<option value=\"" + obj.ledgerhead + "\">" + obj.ledgerhead + "</option>";
                        newel.innerHTML += temp;
                    });
                }
                
                if (cord == "Debit" && account == "GENERAL ACCOUNT") {
                    var filteredData = data.filter(function(obj) {
                        return obj.cord === 'debit' && obj.accounttype === 'General account';
                    });
                    var newel = document.getElementById("ledgerhead");
                    console.log(filteredData);
                    newel.innerHTML = ''; // Clear previous options
                    filteredData.forEach(function(obj) {
                        var temp = "<option value=\"" + obj.ledgerhead + "\">" + obj.ledgerhead + "</option>";
                        newel.innerHTML += temp;
                    });
                }

                // shoba  taleem murwaja

                if (cord == "CREDIT" && account == "SHOBA TALEEM E MURWAJA") {
                    var filteredData = data.filter(function(obj) {
                        return obj.cord === 'credit' && obj.accounttype === 'SHOBA TALEEM E MURWAJA';
                    });
                    var newel = document.getElementById("ledgerhead");
                    console.log(filteredData);
                    newel.innerHTML = ''; // Clear previous options
                    filteredData.forEach(function(obj) {
                        var temp = "<option value=\"" + obj.ledgerhead + "\">" + obj.ledgerhead + "</option>";
                        newel.innerHTML += temp;
                    });
                }

                if (cord == "Debit" && account == "SHOBA TALEEM E MURWAJA") {
                    var filteredData = data.filter(function(obj) {
                        return obj.cord === 'debit' && obj.accounttype === 'SHOBA TALEEM E MURWAJA';
                    });
                    var newel = document.getElementById("ledgerhead");
                    console.log(filteredData);
                    newel.innerHTML = ''; // Clear previous options
                    filteredData.forEach(function(obj) {
                        var temp = "<option value=\"" + obj.ledgerhead + "\">" + obj.ledgerhead + "</option>";
                        newel.innerHTML += temp;
                    });
                }
                // SAHM E IMAM & SEHM E SADAT

                if (cord == "CREDIT" && account == "SAHM E IMAM & SEHM E SADAT") {
                    var filteredData = data.filter(function(obj) {
                        return obj.cord === 'credit' && obj.accounttype === 'SAHM E IMAM & SEHM E SADAT';
                    });
                    var newel = document.getElementById("ledgerhead");
                    console.log(filteredData);
                    newel.innerHTML = ''; // Clear previous options
                    filteredData.forEach(function(obj) {
                        var temp = "<option value=\"" + obj.ledgerhead + "\">" + obj.ledgerhead + "</option>";
                        newel.innerHTML += temp;
                    });
                }

                if (cord == "Debit" && account == "SAHM E IMAM & SEHM E SADAT") {
                    var filteredData = data.filter(function(obj) {
                        return obj.cord === 'debit' && obj.accounttype === 'SAHM E IMAM & SEHM E SADAT';
                    });
                    var newel = document.getElementById("ledgerhead");
                    console.log(filteredData);
                    newel.innerHTML = ''; // Clear previous options
                    filteredData.forEach(function(obj) {
                        var temp = "<option value=\"" + obj.ledgerhead + "\">" + obj.ledgerhead + "</option>";
                        newel.innerHTML += temp;
                    });
                }
                // SHOBA-IMDAD-UL-MUSTAHIQEEN

                if (cord == "CREDIT" && account == "SHOBA-IMDAD-UL-MUSTAHIQEEN") {
                    var filteredData = data.filter(function(obj) {
                        return obj.cord === 'credit' && obj.accounttype === 'SHOBA-IMDAD-UL-MUSTAHIQEEN';
                    });
                    var newel = document.getElementById("ledgerhead");
                    console.log(filteredData);
                    newel.innerHTML = ''; // Clear previous options
                    filteredData.forEach(function(obj) {
                        var temp = "<option value=\"" + obj.ledgerhead + "\">" + obj.ledgerhead + "</option>";
                        newel.innerHTML += temp;
                    });
                }

                if (cord == "Debit" && account == "SHOBA-IMDAD-UL-MUSTAHIQEEN") {
                    var filteredData = data.filter(function(obj) {
                        return obj.cord === 'debit' && obj.accounttype === 'SHOBA-IMDAD-UL-MUSTAHIQEEN';
                    });
                    var newel = document.getElementById("ledgerhead");
                    console.log(filteredData);
                    newel.innerHTML = ''; // Clear previous options
                    filteredData.forEach(function(obj) {
                        var temp = "<option value=\"" + obj.ledgerhead + "\">" + obj.ledgerhead + "</option>";
                        newel.innerHTML += temp;
                    });
                }


            }
            
            // Call updateOptions when either "cord" or "account" select values change
            document.getElementById("cord").addEventListener("change", updateOptions);
            document.getElementById("account").addEventListener("change", updateOptions);
            
            // Call updateOptions on page load
            updateOptions();
        });
    </script>
        
</body>
</html>
